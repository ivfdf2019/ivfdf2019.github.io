---
layout: 2019_timetable
permalink: /2019/timetable
title: Provisional timetable
---
<section id="speakers" class="bg-light-gray">
      <h3>Friday Night</h3>
      <div id="fritimetable" class="timetable"></div>
      <h3>Saturday Night</h3>
      <div id="sattimetable" class="timetable"></div>
<script>
      
      function makeDate(timeString, dayString) {
            timeString = timeString.replace(/h/i,":");
            var date = new Date("2019-03-" + dayString + "T" + timeString.padStart(5, '0') + ":00");
            if (date.getHours()<6) {
                  // events after midnight actually happen on following day
                  date.setDate(date.getDate() + 1);
            }
            return date;
      }
      
      function cleanBand(band) {
            band.begin = makeDate(band.begin, "01");
            band.end = makeDate(band.end, "01");
      }
      
      function friNightBand(band) {
            return band.day=="Friday";
      }
      
      function satNightBand(band) {
            return band.day=="Saturday";
      }
      
      function addBand(timetable, band) {
            timetable.addEvent(band.title + " ("+band.dance+")", band.venue, band.begin, band.end, { url: '#' });
      }
      
      bands = [
      {% for band in site.2019_bands %}
            {title: "{{ band.title }}", begin: "{{ band.begin }}", end: "{{Â band.end }}", venue: "{{ band.venue }}", dance: "{{ band.dance }}", day: "{{ band.day }}"  },
      {% endfor %}
      ];
      
      var fvenues = {};
      var svenues = {};
      bands.filter(friNightBand).forEach((band) => {
            fvenues[band.venue] = 0
            cleanBand(band)
      });
      bands.filter(satNightBand).forEach((band) => {
            svenues[band.venue] = 0
            cleanBand(band)
      });
      fvenues = Object.keys(fvenues);
      svenues = Object.keys(svenues);
      
      var ftimetable = new Timetable();
      ftimetable.setScope(18,2);
      ftimetable.addLocations(fvenues);
      
      bands.filter(friNightBand).forEach(band => {
            addBand(ftimetable, band);
      })
      
      var frenderer = new Timetable.Renderer(ftimetable);
      frenderer.draw('#fritimetable');
      
      var stimetable = new Timetable();
      stimetable.setScope(18,2);
      stimetable.addLocations(svenues);
      
      bands.filter(satNightBand).forEach(band => {
            addBand(stimetable, band);
      })
      
      var srenderer = new Timetable.Renderer(stimetable);
      srenderer.draw('#sattimetable');
      
    </script>
</section>
